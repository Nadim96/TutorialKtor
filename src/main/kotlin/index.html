<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
</head>
<body>


<script>



    const Url = 'http://127.0.0.1:8080/snippets';
    const Data={
        "snippet":{
            text:"test"
        }
    }




    // fetch(Url, othePram)
    //     .then(data=>{return data.json()})
    //     .then(res=>{console.log(res)})
    //     .catch(error=>console.log(error))

    fetch(Url, {
        headers: {
            'Accept': 'application/json',
            'Content-Type': 'application/json'
        },
        method: 'POST',
        body: JSON.stringify(Data)
    }).then(data=>{return data.json()})
        .then(res=>{console.log(res)})


    // const data = {
    //     text: 'test'
    // };
    // const endpoint = 'http://127.0.0.1:8080/snippets';
    //
    // fetch(endpoint, {
    //     headers: {
    //         'Accept': 'application/json',
    //         'Content-Type': 'application/json'
    //     },
    //     method: 'POST',
    //     body: JSON.stringify(data)
    // })
    // tryGetJson = async (resp) => {
    //     return new Promise((resolve) => {
    //         if (resp) {
    //             resp.json().then(json => resolve(json)).catch(() => resolve(null))
    //         } else {
    //             resolve(null)
    //         }
    //     })
    // }


</script>

<button id="btn">klik</button>
</body>
</html>